<div ng-init="sort='-dateUpdated'">
<div layout="column" layout-align="center center">
    <md-card class="md-whiteframe-z2" md-theme="{{ vm.user.theme }}" md-theme-watch layout-margin style="width: 960px;">
        <md-card-title>
            <md-card-title-media layout-padding>
                <div class="md-media-lg card-media">
                    <img ng-src="{{vm.user.img}}" alt="{{vm.user.img}}" class="profile_img">
                </div>
            </md-card-title-media>
            <md-card-title-text layout-align="center center">
                <span class="md-headline" style="font-size: 5.5rem; color: white;">{{vm.user.name}}</span>
                <br />
                <p>{{vm.user.aboutMe}}</p>
            </md-card-title-text>
        </md-card-title>
    </md-card>
    <div style="width: 960px;">
        <md-content layout="row">
            <md-tabs md-dynamic-height md-stretch-tabs='always' md-border-bottom flex>
              <md-tab label="Portfolio">
                <div layout="row" style="margin-top: 20px;"  layout-align="center">
                    <md-input-container>
                      <span class="text-sort">Sort by Last Updated</span>
                      <md-button class="btn-sort" ng-show="sort ==='-dateUpdated'" ng-click="sort='dateUpdated'"><i class="fa fa-chevron-up" aria-hidden="true"></i></md-button>
                      <md-button class="btn-sort" ng-show="sort ==='dateUpdated'" ng-click="sort='-dateUpdated'"><i class="fa fa-chevron-down" aria-hidden="true"></i></md-button>
                        <label>Sort by Category</label>
                        <md-select ng-model="vm.selectedCategory" ng-change="vm.getItems()">
                            <md-option>-</md-option>
                            <md-option ng-repeat="c in vm.category" value="{{c}}">
                                {{c}}
                            </md-option>
                        </md-select>
                    </md-input-container>

                </div>
                  <md-content class = "md-padding" ng-repeat="i in vm.user.items | orderBy: sort">
                      <div layout="row" layout-align="center">
                          <div layout="row" ng-repeat="u in i.images">
                              <img ng-src="{{u.url}}" alt="{{u.url}}" ng-hide="!u.mainOrNah" class="item_img" width="200px" height="auto">
                          </div>
                          <div layout="column" layout-align="start center">
                              <a ui-sref="Item({id: i._id})"><h1>{{i.title}}</h1></a>
                              <p>{{i.description}}</p>
                              <span layout="row" layout-align="start start"><p>Date Posted: {{i.datePosted | date: 'yyyy-MM-dd HH:mm:ss Z'}} </p>&nbsp&nbsp
                                <p>
                                  date updated: {{i.dateUpdated | date: 'yyyy-MM-dd HH:mm:ss Z' }}
                                </p>
                              </span>
                              <pre>{{i.category}}</pre>
                          </div>
                      </div>
                  </md-content>
              </md-tab>
                <md-tab label="Contact Me">
                    <md-content class="md-padding">
                        <div ng-show="vm.user.social">
                            <div layout="row" layout-align="center" >
                                <h3>Social Media</h3>
                            </div>
                            <div layout="row" layout-align="center">
                                <div ng-repeat="s in vm.user.social" class="md-padding">
                                    <a href="{{s.url}}" target="_blank">
                                        <md-button class="md-fab md-primary">
                                            <i class="fa {{s.template}} fa-2x" style="color: white;"></i>
                                        </md-button>
                                    </a>
                                </div>
                            </div>
                        </div>
                        <div ng-show="vm.user.email">
                            <div layout="row" layout-align="center">
                                <h3>Email</h3>
                            </div>
                            <div layout="row" layout-align="center">
                                    <a href="mailto:{{vm.user.email}}">
                                        <md-button class="md-fab">
                                            <i class="fa fa-envelope-o" aria-hidden="true"></i>
                                        </md-button>
                                    </a>
                            </div>
                        </div>
                    </md-content>
                </md-tab>

            </md-tabs>
        </md-content>
    </div>
</div>
</div>
